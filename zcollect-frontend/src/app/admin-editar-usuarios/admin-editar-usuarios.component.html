
<div *ngIf="mensajeToast" class="toast-flotante">
  {{ mensajeToast }}
</div>

<div class="titulo-formulario">
  <h2>Editar Usuario</h2>
</div>

<form class="form-editar" [formGroup]="form" (ngSubmit)="guardar()">
  <div class="form-group">
    <label for="username">Nombre de usuario:</label>
    <input id="username" formControlName="username" type="text" />
    <div class="error" *ngIf="form.controls['username'].touched && form.controls['username'].invalid">
      <div *ngIf="form.controls['username'].errors?.['required']">El nombre de usuario es obligatorio.</div>
      <div *ngIf="form.controls['username'].errors?.['maxlength']">Máximo 50 caracteres.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="email">Email:</label>
    <input id="email" formControlName="email" type="email" />
    <div class="error" *ngIf="form.controls['email'].touched && form.controls['email'].invalid">
      <div *ngIf="form.controls['email'].errors?.['required']">El email es obligatorio.</div>
      <div *ngIf="form.controls['email'].errors?.['pattern'] || form.controls['email'].errors?.['email']">Correo no válido.</div>
      <div *ngIf="form.controls['email'].errors?.['maxlength']">Máximo 100 caracteres.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="telefono">Teléfono:</label>
    <input id="telefono" formControlName="telefono" type="text" />
    <div class="error" *ngIf="form.controls['telefono'].touched && form.controls['telefono'].invalid">
      <div *ngIf="form.controls['telefono'].errors?.['required']">El teléfono es obligatorio.</div>
      <div *ngIf="form.controls['telefono'].errors?.['pattern']">Debe tener 9 dígitos.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="direccion">Dirección:</label>
    <input id="direccion" formControlName="direccion" type="text" />
    <div class="error" *ngIf="form.controls['direccion'].touched && form.controls['direccion'].invalid">
      <div *ngIf="form.controls['direccion'].errors?.['required']">La dirección es obligatoria.</div>
      <div *ngIf="form.controls['direccion'].errors?.['maxlength']">Máximo 255 caracteres.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Contraseña (dejar vacío para no cambiar):</label>
    <input id="password" formControlName="password" type="password" />
    <div class="error" *ngIf="form.controls['password'].touched && form.controls['password'].invalid">
      <div *ngIf="form.controls['password'].errors?.['minlength']">Mínimo 8 caracteres.</div>
      <div *ngIf="form.controls['password'].errors?.['maxlength']">Máximo 255 caracteres.</div>
    </div>
  </div>

  <div class="form-actions">
    <button type="submit" [disabled]="form.invalid" class="btn-guardar">Guardar</button>
    <button type="button" (click)="cancelar()" class="btn-cancelar">Cancelar</button>
  </div>
</form>
